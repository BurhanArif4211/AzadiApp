import{r as Z,s as se,n as Y,h as $}from"../chunks/scheduler.6a6dac79.js";import{d as le,S as ne,i as ae,g as _,s as A,h as g,j as S,y as W,c as B,f as L,k as r,a as N,x as o,A as J,B as ie,m as ee,n as te,C as re}from"../chunks/index.d7cc3bf6.js";function R(a){return(a==null?void 0:a.length)!==void 0?a:Array.from(a)}function oe(a,e){a.d(1),e.delete(a.key)}function ce(a,e,t,n,h,s,d,k,f,i,y,v){let l=a.length,C=s.length,q=l;const T={};for(;q--;)T[a[q].key]=q;const H=[],O=new Map,M=new Map,G=[];for(q=C;q--;){const c=v(h,s,q),b=t(c);let w=d.get(b);w?n&&G.push(()=>w.p(c,e)):(w=i(b,c),w.c()),O.set(b,H[q]=w),b in T&&M.set(b,Math.abs(q-T[b]))}const P=new Set,E=new Set;function F(c){le(c,1),c.m(k,y),d.set(c.key,c),y=c.first,C--}for(;l&&C;){const c=H[C-1],b=a[l-1],w=c.key,I=b.key;c===b?(y=c.first,l--,C--):O.has(I)?!d.has(w)||P.has(w)?F(c):E.has(I)?l--:M.get(w)>M.get(I)?(E.add(w),F(c)):(P.add(I),l--):(f(b,d),l--)}for(;l--;){const c=a[l];O.has(c.key)||f(c,d)}for(;C;)F(H[C-1]);return Z(G),H}function K(a,e,t){const n=a.slice();return n[5]=e[t],n}function Q(a,e){let t,n=e[5]+"",h;return{key:a,first:null,c(){t=_("option"),h=ee(n),this.h()},l(s){t=g(s,"OPTION",{class:!0});var d=S(t);h=te(d,n),d.forEach(L),this.h()},h(){t.__value=e[5],re(t,t.__value),r(t,"class","svelte-t53tqr"),this.first=t},m(s,d){N(s,t,d),o(t,h)},p(s,d){e=s},d(s){s&&L(t)}}}function X(a){let e,t,n="Your Generated Wish Card",h,s,d,k,f,i,y;return{c(){e=_("div"),t=_("h2"),t.textContent=n,h=A(),s=_("img"),k=A(),f=_("button"),i=_("a"),y=ee("Download Wish Card"),this.h()},l(v){e=g(v,"DIV",{class:!0});var l=S(e);t=g(l,"H2",{class:!0,"data-svelte-h":!0}),W(t)!=="svelte-9iil7"&&(t.textContent=n),h=B(l),s=g(l,"IMG",{src:!0,alt:!0,class:!0}),k=B(l),f=g(l,"BUTTON",{class:!0});var C=S(f);i=g(C,"A",{href:!0,download:!0,class:!0});var q=S(i);y=te(q,"Download Wish Card"),q.forEach(L),C.forEach(L),l.forEach(L),this.h()},h(){r(t,"class","svelte-t53tqr"),$(s.src,d=a[0])||r(s,"src",d),r(s,"alt","Generated Wish Card"),r(s,"class","svelte-t53tqr"),r(i,"href",a[0]),r(i,"download",""),r(i,"class","svelte-t53tqr"),r(f,"class","svelte-t53tqr"),r(e,"class","display svelte-t53tqr")},m(v,l){N(v,e,l),o(e,t),o(e,h),o(e,s),o(e,k),o(e,f),o(f,i),o(i,y)},p(v,l){l&1&&!$(s.src,d=v[0])&&r(s,"src",d),l&1&&r(i,"href",v[0])},d(v){v&&L(e)}}}function ue(a){let e,t,n,h,s,d="Select title:",k,f,i=[],y=new Map,v,l,C='<div class="h2 svelte-t53tqr">Your name:</div> <input class="input svelte-t53tqr" type="text" name="name"/>',q,T,H='<div class="h2 svelte-t53tqr">Upload background image:</div> <input class="input svelte-t53tqr" name="file" type="file"/>',O,M,G=`<div class="h2 svelte-t53tqr">Output format:</div> <input type="radio" name="outputFormat" value="jpg" class="svelte-t53tqr"/> JPG
				<input type="radio" name="outputFormat" value="pdf" class="svelte-t53tqr"/> PDF`,P,E,F="Create Wish Card",c,b,w,I=R(a[1]);const U=u=>u[5];for(let u=0;u<I.length;u+=1){let p=K(a,I,u),D=U(p);y.set(D,i[u]=Q(D,p))}let m=a[0]&&X(a);return{c(){e=_("div"),t=_("div"),n=_("form"),h=_("label"),s=_("div"),s.textContent=d,k=A(),f=_("select");for(let u=0;u<i.length;u+=1)i[u].c();v=A(),l=_("label"),l.innerHTML=C,q=A(),T=_("label"),T.innerHTML=H,O=A(),M=_("label"),M.innerHTML=G,P=A(),E=_("button"),E.textContent=F,c=A(),m&&m.c(),this.h()},l(u){e=g(u,"DIV",{class:!0});var p=S(e);t=g(p,"DIV",{class:!0});var D=S(t);n=g(D,"FORM",{class:!0});var x=S(n);h=g(x,"LABEL",{class:!0});var V=S(h);s=g(V,"DIV",{class:!0,"data-svelte-h":!0}),W(s)!=="svelte-1lpm89b"&&(s.textContent=d),k=B(V),f=g(V,"SELECT",{class:!0,name:!0,type:!0});var z=S(f);for(let j=0;j<i.length;j+=1)i[j].l(z);z.forEach(L),V.forEach(L),v=B(x),l=g(x,"LABEL",{class:!0,"data-svelte-h":!0}),W(l)!=="svelte-1b2gzq"&&(l.innerHTML=C),q=B(x),T=g(x,"LABEL",{class:!0,"data-svelte-h":!0}),W(T)!=="svelte-1f2kgu2"&&(T.innerHTML=H),O=B(x),M=g(x,"LABEL",{class:!0,"data-svelte-h":!0}),W(M)!=="svelte-12fqgcp"&&(M.innerHTML=G),P=B(x),E=g(x,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),W(E)!=="svelte-vzy0h"&&(E.textContent=F),x.forEach(L),D.forEach(L),c=B(p),m&&m.l(p),p.forEach(L),this.h()},h(){r(s,"class","h2 svelte-t53tqr"),r(f,"class","drop svelte-t53tqr"),r(f,"name","title"),r(f,"type","text"),r(h,"class","svelte-t53tqr"),r(l,"class","svelte-t53tqr"),r(T,"class","svelte-t53tqr"),r(M,"class","svelte-t53tqr"),r(E,"type","submit"),r(E,"class","svelte-t53tqr"),r(n,"class","svelte-t53tqr"),r(t,"class","item svelte-t53tqr"),r(e,"class","cont svelte-t53tqr")},m(u,p){N(u,e,p),o(e,t),o(t,n),o(n,h),o(h,s),o(h,k),o(h,f);for(let D=0;D<i.length;D+=1)i[D]&&i[D].m(f,null);o(n,v),o(n,l),o(n,q),o(n,T),o(n,O),o(n,M),o(n,P),o(n,E),o(e,c),m&&m.m(e,null),b||(w=[J(E,"click",a[2]()),J(n,"submit",ie(a[3]))],b=!0)},p(u,[p]){p&2&&(I=R(u[1]),i=ce(i,p,U,1,u,I,y,f,oe,Q,null,K)),u[0]?m?m.p(u,p):(m=X(u),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},i:Y,o:Y,d(u){u&&L(e);for(let p=0;p<i.length;p+=1)i[p].d();m&&m.d(),b=!1,Z(w)}}}function de(a,e,t){let n;const h=["Event1","Event2","Event3"];let s=0;function d(){s>0&&t(0,n=void 0),s=s+1}async function k(f){const i=f.target,y=new FormData(i);console.log(y);let v=await fetch("/Create",{method:"POST",body:y});if(v.ok){const l=await v.json();t(0,n=l.body.filePath)}else console.log("Error:",v.message)}return[n,h,d,k]}class ve extends ne{constructor(e){super(),ae(this,e,de,ue,se,{})}}export{ve as component};
